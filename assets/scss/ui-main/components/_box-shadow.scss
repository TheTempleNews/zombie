/*------------------------------------*\
    TTN: COMPONENTS: BOX SHADOW
\*------------------------------------*/
/**
 * Fancy CSS3 box shadows. Use with caution.
 *
 * You should strongly favor silent classes over
 * mixins, as the mixins will generate a huge amount
 * of code and, really, there is probably no reason
 * to use anything wilder than these.
 */





/**
 * Page curl box shadow effect.
 *
 * Only affects the bottom left corner.
 * Will require updating if bottom right corner is required.
 */
@mixin box-shadow--curl($background-color: #FFF, $y: $base-spacing-unit, $radius: $y / 2, $color: rgba(0,0,0,0.5)) {
  background-color: $background-color;
  position: relative;

  &:before,
  &:after {
    box-shadow: 0 $y $radius $color;
    z-index: -1;
    position: absolute;
    content: "";
    bottom: $y;
    left: $radius;
    width: 50%;
    top: 80%;
    max-width:300px;
    background: $color;
  }

  &:before {
    transform: rotate(-3deg);
  }

  &:after {
    transform: rotate(3deg);
    right: $radius;
    left: auto;
  }
}

%bs--curl {
  @include box-shadow--curl();
}


/**
 * Curved box shadow effect on bottom and/or top edge.
 *
 * @param color $background-color
 * @param boolean $top-edge If true, display on both top edge and bottom edge. Default is false (bottom only).
 */
@mixin box-shadow--curved($background-color: #FFFFFF, $top-edge: false) {
  background: $background-color;
  position:relative;

  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;

  &:before,
  &:after {
    box-shadow: 0 0 20px rgba(0,0,0,0.8);
    content:"";
    position:absolute;
    z-index:-1;
    bottom:0;
    left:10px;
    right:10px;
    border-radius:100px / 10px;

    @if $top-edge == true {
      top: 0;
    } @elseif $top-edge == false {
      top:50%;
    }
  }

  &:after {
    right:10px;
    left:auto;
    transform: skew(8deg) rotate(3deg);
  }
}

%bs--curved--bottom {
  @include box-shadow--curved();
}

%bs--curved--bottom-top {
  @include box-shadow--curved($top-edge: true);
}
