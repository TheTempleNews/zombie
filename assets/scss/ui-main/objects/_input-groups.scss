/*------------------------------------*\
    TTN: OBJECTS: INPUT GROUPS
\*------------------------------------*/
/**
 * Extend form controls by adding text or buttons before,
 * after, or on both sides of any text-based input.
 * Use `.input-group` with an `.input-group__addon`
 * to prepend or append elements to a `.form__control`.
 *
 * Stolen from Bootstrap SASS 3.0.0.
 *
 * http://getbootstrap.com/components/#input-groups
 *
 * Example:
 *
  <div class="input-group">
    <span class="input-group__addon">@</span>
    <input type="text" class="form__control" placeholder="Username">
  </div>
 *
 */





/**
 * Base styles
 */
.input-group {
  position: relative; // For dropdowns
  display: table;
  border-collapse: separate; // prevent input groups from inheriting border styles from table cells when placed within a table

  .form__control {
    /**
     * IE9 fubars the placeholder attribute in text inputs and the arrows on
     * select elements in input groups. To fix it, we float the input.
     * 
     * https://github.com/twbs/bootstrap/issues/11561#issuecomment-28936855
     */
    float: left;

    width: 100%;
    margin-bottom: 0;
  }
}


/**
 * Sizing options
 *
 * Remix the default form control sizing classes into new ones for easier
 * manipulation.
 */
.input-group-lg > .form__control,
.input-group-lg > .input-group__addon,
.input-group-lg > .input-group__btn > .btn { @extend .input-lg; }
.input-group-sm > .form__control,
.input-group-sm > .input-group__addon,
.input-group-sm > .input-group__btn > .btn { @extend .input-sm; }


/**
 * Display as table-cell
 */
.input-group__addon,
.input-group__btn,
.input-group .form__control {
  display: table-cell;

  &:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
  }
}


/**
 * Addon and addon wrapper for buttons
 */
.input-group__addon,
.input-group__btn {
  width: 1%;
  white-space: nowrap;
  vertical-align: middle; // Match the inputs
}


/**
 * Text input groups
 */
.input-group__addon {
  padding: $base-spacing-unit / 4 $base-spacing-unit / 2;
  font-size: $base-font-size;
  font-weight: normal;
  line-height: 1;
  color: $input-color;
  text-align: center;
  background-color: $input-group-addon-bg;
  border: 1px solid $input-group-addon-border-color;
  border-radius: $brand-round;

  /**
   * Sizing
   */
  &.input-sm {
    padding: $base-spacing-unit / 2;
    font-size: $milli-size;
    border-radius: $brand-round / 2;
  }
  &.input-lg {
    padding: $base-spacing-unit * 2;
    font-size: $h4-size;
    border-radius: $brand-round * 2;
  }

  /**
   * Nuke default margins from checkboxes and radios to vertically center within.
   */
  input[type="radio"],
  input[type="checkbox"] {
    margin-top: 0;
  }
}


/**
 * Reset rounded corners
 */
.input-group .form__control:first-of-type,
.input-group__addon:first-of-type,
.input-group__btn:first-of-type > .btn,
.input-group__btn:first-of-type > .btn-group > .btn,
.input-group__btn:first-of-type > .dropdown-toggle,
.input-group__btn:last-of-type > .btn:not(:last-of-type):not(.dropdown-toggle),
.input-group__btn:last-of-type > .btn-group:not(:last-of-type) > .btn {
  @include border-right-radius(0);
}
.input-group__addon:first-of-type {
  border-right: 0;
}
.input-group .form__control:last-of-type,
.input-group__addon:last-of-type,
.input-group__btn:last-of-type > .btn,
.input-group__btn:last-of-type > .btn-group > .btn,
.input-group__btn:last-of-type > .dropdown-toggle,
.input-group__btn:first-of-type > .btn:not(:first-of-type),
.input-group__btn:first-of-type > .btn-group:not(:first-of-type) > .btn {
  @include border-left-radius(0);
}
.input-group__addon:last-of-type {
  border-left: 0;
}


/**
 * Button input groups
 *
 * Example:
 *
  <div class="input-group">
    <span class="input-group__btn">
      <button class="btn" type="button">Go!</button>
    </span>
    <input type="text" class="form__control">
  </div>
 *
 */
.input-group__btn {
  position: relative;

  /**
   * Jankily prevent input button groups from wrapping with `white-space` and
   * `font-size` in combination with `inline-block` on buttons.
   */
  font-size: 0;
  white-space: nowrap;

  /**
   * Negative margin for spacing, position for bringing hovered/focused/actived
   * element above the siblings.
   */
  > .btn {
    position: relative;
    + .btn {
      margin-left: -1px;
    }
    /**
     * Bring the "active" button to the front
     */
    &:hover,
    &:focus,
    &:active {
      z-index: 2;
    }
  }

  /**
   * Negative margin to only have a 1px border between the two
   */
  &:first-of-type {
    > .btn,
    > .btn-group {
      margin-right: -1px;
    }
  }
  &:last-of-type {
    > .btn,
    > .btn-group {
      margin-left: -1px;
    }
  }
}
